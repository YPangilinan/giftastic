<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gif-Tastic!</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<body>
<!-----------HTML--------------->
<div class="container">

    <div class="buttons"></div>

    <div id="gifs-go-here"></div>


</div>


<!------JAVASCRIPT---------->
    
    <script type="text/javascript">

    //initial aray of topics
    var topics = ["corgi", "weights", "tulips", "disneyland", "simba"];

    //create a onclick function for ajax to be called when a specific button is pressed
    //create queryURL variable to hold api key

    function displayGif(){
        var subject = $(this).attr("data-topic");
        var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
        subject + "&api_key=jYUXFR4smqls1PsJGd9uX9MCg8qqoE0N&limit=10";
   
    //initiate ajax call within function 

    $.ajax({
        url: queryURL,
        method: "GET"
    }).then(function(response){

    $("button").on("click", function(){


        var results = response.data;

        for (var i=0; i< results.length; i++){
     //make a div with and store it in a variable named topicDiv
        var topicDiv = $("<div>");

      //paragraph tag and store in variable p
        var p = $("<p>");

      //change inner text to show the rating of image
        p.text("Rating: " + results[i].rating);

      //create img tag and store in variable topicImage
        var topicImage = $("<img>");

      //set img src to results i .imagesfixed_height.still.url
        topicImage.attr("src", results[i].images.fixed_height_still.url);

      //add attr "data-still",results[i] fixed_height.still.url
        topicImage.attr("data-still", results[i].images.fixed_height_still.url);

      //add attr "data-animate", results[i].images.fixed_height.url
        topicImage.attr("data-animate", results[i].images.fixed_height.url);

    //add attr "data-state", "still"
        topicImage.attr("data-state", "still");

    //add class gif
        topicImage.addClass("gif");

      //append p variable to topic Div
      topicDiv.append(p)

      //append topic Image to topicDiv
      topicDiv.append(topicImage);

      //prepend topicDiv to #gifs-appear-here
      $("#gifs-go-here").prepend(topicDiv);

        }

    })
});
}
      //function to display gif data
      //create a variable called results and set it equal to respose.data

      //create a loop for results.length

      


    //create function to create buttons from the initial array and to push data into
    function createButtons(){
        $(".buttons").empty();

        for (var i=0; i<topics.length; i++){
            var a = $("<button>");
            a.addClass("subject");
            a.attr("data-topic", topics[i]);
            a.text(topics[i]);
            $(".buttons").append(a);        
        }
    } 
    
    $(document).on("click", ".subject",displayGif);
    
    createButtons();


    //delete topics before adding new topics (to not have repeat buttons)
    //loop through array of topics
    //generate buttons for each button in the array
    //create element
    //add class "data-topic"
    //add data-attribute
    //initial text for button
    //add to the buttons div


    //create gif on click function that starts the image as still until the user clicks on it

    //2) make a var named state then store the images data state in it

    // coniditional statements for still or animate (check the pausing gifs)




  



    
    
    
 






</script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
</body>
</html>